# Default values for helm-restart-pod-job.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# This sets the container image more information can be found here: https://kubernetes.io/docs/concepts/containers/images/
image:
  repository: ghcr.io/stevedetm/restart-pod-job
  # This sets the pull policy for images.
  pullPolicy: IfNotPresent

# This is to override the chart name.
nameOverride: ""
fullnameOverride: ""

# This section builds out the service account more information can be found here: https://kubernetes.io/docs/concepts/security/service-accounts/
serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Automatically mount a ServiceAccount's API credentials?
  automount: false
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

cronJob:
  # -- This field specifies the number of successful finished jobs to keep. The default value is 3. Setting this field to 0 will not keep any successful jobs.
  successfulJobsHistoryLimit: 1
  # -- The value of that field follows the (Cron)[https://en.wikipedia.org/wiki/Cron] syntax:
  schedule: "0 7 * * *"
  # -- This field specifies the security context for the container. This allows you to run the container as a non-root user. More information can be found here: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/
  securityContext:
    capabilities:
      drop:
        - ALL
    # https://github.com/opencost/opencost-helm-chart/issues/198
    readOnlyRootFilesystem: false
    runAsNonRoot: true
    runAsUser: 1001
    allowPrivilegeEscalation: false
    seccompProfile:
      type: RuntimeDefault
